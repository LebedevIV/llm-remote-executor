# LLM Remote Executor

Простой, но мощный гибридный API-сервер на Node.js, который позволяет языковым моделям (LLM) безопасно взаимодействовать с файловой системой. Проект использует GET-запросы для простых операций и POST-запросы для надежной передачи больших объемов данных.

## Философия

Этот экспериментальный проект — не замена IDE-инструментам, а предложение **альтернативной парадигмы** работы, где ИИ выступает не как "помощник", а как центральный "исполнитель" (агент), а Вы — как оператор, предоставляющий ему доступ к инструментам. Это дает 100% контроль, прозрачность и свободу выбора любой языковой модели. ИИ всё более можно рассматривать как виртуальную машину с докерами-контекстами, в которых всё более можно моделировать любые среды и даже IDE.

---

## Часть 1: Локальная установка (Рекомендуемый способ)

### Шаг 1: Подготовка
1.  Установите [Node.js](https://nodejs.org/) (версию LTS).
2.  Создайте папку проекта и установите зависимости:
    ```bash
    mkdir llm-remote-executor
    cd llm-remote-executor
    npm init -y
    npm install express
    ```

### Шаг 2: Создание файлов

Создайте в папке проекта файлы `server.js` и `config.json`, скопировав их код из этого репозитория.

**`config.json` (Пример):**
```json
{
  "PORT": 3000,
  "SECRET_TOKEN": "your-super-secret-token-here",
  "BASE_DIR": "./local-workspace"
}
```

### Шаг 3: Запуск
`node server.js`

---

## Часть 2: Спецификация и Использование API

### 1. Методы и Действия

- **`GET /api`**: Для простых операций (`list_dir`, `read_file`, `shell`) и для записи **небольших файлов (до ~2000 символов)**.
- **`POST /api`**: Для надежной записи **больших файлов**.

### 2. Практические примеры `curl`

**Получение списка файлов (GET):**
```bash
curl "http://localhost:3000/api?token=ВАШ_ТОКЕН&action=list_dir"
```

**Запись НЕБОЛЬШОГО файла (до ~2000 символов) методом GET:**
Этот метод использует `Heredoc` (`<<'EOF'`) и является самым надежным способом передать через GET текст с любыми спецсимволами, не опасаясь ошибок терминала.
```bash
curl -G "http://localhost:3000/api?token=ВАШ_ТОКЕН&action=write_file&path=small-file.txt" \
  --data-urlencode content@- <<'EOF'
Произвольный текст с любыми спецсимволами, включая ' и " и !, длиной до ~2000 символов.
Этот блок будет передан в файл как есть.
EOF
```

**Запись БОЛЬШОГО файла (свыше 2000 символов) методом POST:**
Это рекомендуемый, самый надежный и не имеющий ограничений по размеру способ записи файлов.
```bash
curl -X POST "http://localhost:3000/api" \
-H "Content-Type: application/json" \
-d '{
  "token": "ВАШ_ТОКЕН",
  "action": "write_file",
  "path": "large-file.md",
  "content": "Сюда можно вставить очень большой и сложный текст...\n...который может занимать много строк.\nНикаких проблем с кодированием или длиной не будет."
}'
```

---

## Часть 3: Рабочий процесс "Выполнение при посредничестве `curl`"

Твое взаимодействие с сервером происходит по строгому циклу "План-Генерация-Ожидание".

1.  **Пользователь дает тебе задачу.**
2.  **Ты формируешь ПЛАН ВЫПОЛНЕНИЯ.**
3.  **Ты генерируешь ОДНУ `curl` команду** (используя GET или POST в зависимости от размера данных) для выполнения первого шага.
4.  **Ты ожидаешь,** пока пользователь выполнит эту команду и предоставит тебе **ПОЛНЫЙ ВЫВОД** из терминала.
5.  **Ты анализируешь результат** и переходишь к следующему шагу.
